-- LocalScript (æ”¾åœ¨ StarterPlayerScripts æˆ– StarterCharacterScripts)

-- ä»OCRæå–åæ ‡
local X = 90.8
local Y = 91245.6
local Z = 107.1

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- æ§åˆ¶å˜é‡
local isRunning = false
local clickConnection = nil

-- åˆ›å»ºé€æ˜UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoClickerUI"
screenGui.ResetOnSpawn = false
screenGui.Enabled = true

-- ä¸»æ¡†æ¶ - å®Œå…¨é€æ˜
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0.4, 0, 0.3, 0)
mainFrame.Position = UDim2.new(0.3, 0, 0.35, 0)
mainFrame.BackgroundTransparency = 1
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- çŠ¶æ€æ ‡ç­¾ - è¶…å¤§å­—ä½“
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, 0, 0.4, 0)
statusLabel.Position = UDim2.new(0, 0, 0, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "ç³»ç»Ÿå¯åŠ¨ä¸­..."
statusLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.GothamBlack
statusLabel.TextStrokeTransparency = 0.3
statusLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
statusLabel.Parent = mainFrame

-- åæ ‡æ ‡ç­¾ - å¤§å­—ä½“
local coordLabel = Instance.new("TextLabel")
coordLabel.Size = UDim2.new(1, 0, 0.3, 0)
coordLabel.Position = UDim2.new(0, 0, 0.4, 0)
coordLabel.BackgroundTransparency = 1
coordLabel.Text = string.format("åæ ‡: %.1f, %.1f, %.1f", X, Y, Z)
coordLabel.TextColor3 = Color3.fromRGB(200, 200, 255)
coordLabel.TextScaled = true
coordLabel.Font = Enum.Font.GothamSemibold
coordLabel.TextStrokeTransparency = 0.5
coordLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
coordLabel.Parent = mainFrame

-- åœæ­¢æŒ‰é’® - å¤§å­—ä½“
local stopButton = Instance.new("TextButton")
stopButton.Size = UDim2.new(0.5, 0, 0.2, 0)
stopButton.Position = UDim2.new(0.25, 0, 0.8, 0)
stopButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
stopButton.BackgroundTransparency = 0.4
stopButton.Text = "åœæ­¢"
stopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
stopButton.TextScaled = true
stopButton.Font = Enum.Font.GothamBlack
stopButton.Visible = false
stopButton.Parent = mainFrame

-- ç­‰å¾…è§’è‰²åŠ è½½
if not humanoidRootPart then
    warn("âš ï¸ æœªæ‰¾åˆ°HumanoidRootPart")
    return
end

-- ç¬ç§»åŠŸèƒ½
local function teleportToTarget()
    RunService.Heartbeat:Wait()
    humanoidRootPart.CFrame = CFrame.new(X, Y, Z)
    print("âœ… å·²ç¬ç§»åˆ°ç›®æ ‡åæ ‡")
end

-- çœŸæ­£æ¨¡æ‹ŸæŒ‰1é”®
local function pressOneKey()
    print("âŒ¨ï¸ å¼€å§‹æ¨¡æ‹ŸæŒ‰1é”®...")
    
    -- ä½¿ç”¨VirtualInputManagerçœŸæ­£æ¨¡æ‹ŸæŒ‰é”®
    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.One, false, game)
    wait(0.1)  -- æŒ‰ä½0.1ç§’
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.One, false, game)
    
    print("âœ… å·²å®ŒæˆæŒ‰1é”®")
end

-- çœŸæ­£æ¨¡æ‹ŸæŒ‰å·¦é”®
local function pressLeftMouseButton()
    print("ğŸ–±ï¸ æ¨¡æ‹ŸæŒ‰å·¦é”®...")
    
    -- ä½¿ç”¨VirtualInputManagerçœŸæ­£æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»
    VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 1)
    wait(0.05)
    VirtualInputManager:SendMouseButtonEvent(0, 0, 0, false, game, 1)
    
    print("âœ… å·²å®Œæˆå·¦é”®ç‚¹å‡»")
end

-- è‡ªåŠ¨ç‚¹å‡»åŠŸèƒ½
local function startAutoClicking()
    if isRunning then return end
    
    isRunning = true
    statusLabel.Text = "è¿è¡Œä¸­..."
    stopButton.Visible = true
    
    -- ä½¿ç”¨å¿ƒè·³æ¥ç¡®ä¿ç²¾ç¡®çš„0.1ç§’é—´éš”
    local nextClickTime = tick()
    
    clickConnection = RunService.Heartbeat:Connect(function()
        if not isRunning then return end
        
        local currentTime = tick()
        if currentTime >= nextClickTime then
            -- çœŸæ­£æ¨¡æ‹Ÿé¼ æ ‡å·¦é”®ç‚¹å‡»
            pressLeftMouseButton()
            nextClickTime = currentTime + 0.1  -- 0.1ç§’é—´éš”
        end
    end)
end

-- åœæ­¢æ‰€æœ‰åŠŸèƒ½
local function stopEverything()
    isRunning = false
    
    if clickConnection then
        clickConnection:Disconnect()
        clickConnection = nil
    end
    
    statusLabel.Text = "å·²åœæ­¢"
    stopButton.Visible = false
    print("ğŸ›‘ å·²åœæ­¢æ‰€æœ‰æ“ä½œ")
end

-- ä¸»å¯åŠ¨æµç¨‹
local function startSystem()
    statusLabel.Text = "æ‰§è¡Œä¸­..."
    
    -- 1. æ‰§è¡Œç¬ç§»
    teleportToTarget()
    wait(0.5)
    
    -- 2. æ¨¡æ‹ŸæŒ‰1é”®
    pressOneKey()
    wait(0.5)
    
    -- 3. å¼€å§‹è‡ªåŠ¨ç‚¹å‡»
    startAutoClicking()
    
    print("âœ… ç³»ç»Ÿå¯åŠ¨å®Œæˆ")
end

-- åœæ­¢æŒ‰é’®äº‹ä»¶
stopButton.MouseButton1Click:Connect(stopEverything)

-- åˆå§‹æ˜¾ç¤ºUI
screenGui.Parent = player.PlayerGui

-- å»¶è¿Ÿå¯åŠ¨
wait(1)
startSystem()

print("ğŸ® è„šæœ¬å·²è‡ªåŠ¨å¯åŠ¨")
print("ğŸ“Œ æ‰§è¡Œæµç¨‹ï¼šç¬ç§» â†’ æŒ‰1é”® â†’ è‡ªåŠ¨æŒ‰å·¦é”®")
print("ğŸ›‘ ç‚¹å‡»åœæ­¢æŒ‰é’®å¯åœæ­¢")